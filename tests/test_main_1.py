import re
from playwright.sync_api import sync_playwright


def run(playwright):
    # slow_mo=500: chÃ¨n delay 500ms giá»¯a má»—i action Ä‘á»ƒ quan sÃ¡t rÃµ & chá» UI/data load ká»‹p
    browser = playwright.chromium.launch(headless=False, slow_mo=500)
    context = browser.new_context()
    page = context.new_page()
    page.goto("http://localhost:3000/")
    page.get_by_role("banner").get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").fill("hbhuyhoang04@gmail.com")
    page.get_by_role("textbox", name="Email").press("Tab")
    page.get_by_role("textbox", name="Máº­t kháº©u").fill("123456")
    page.get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("button", name="Gá»­i yÃªu cáº§u tham gia").click()
    page.get_by_role("textbox", name="Vui lÃ²ng nÃªu rÃµ lÃ½ do báº¡n muá»‘").click()
    page.get_by_role("textbox", name="Vui lÃ²ng nÃªu rÃµ lÃ½ do báº¡n muá»‘").fill("1. LÃ½ do gia nháº­p:\nEm muá»‘n tÃ¬m má»™t sÃ¢n chÆ¡i giáº£i trÃ­ lÃ nh máº¡nh Ä‘á»ƒ cÃ¢n báº±ng láº¡i Ã¡p lá»±c há»c táº­p. Boardgame khÃ´ng chá»‰ lÃ  trÃ² chÆ¡i mÃ  cÃ²n lÃ  cÃ¡ch tuyá»‡t vá»i Ä‘á»ƒ rÃ¨n luyá»‡n tÆ° duy chiáº¿n thuáº­t vÃ  kháº£ nÄƒng thÆ°Æ¡ng thuyáº¿t.\n2. Ká»¹ nÄƒng báº£n thÃ¢n:\nHoáº¡t nÃ¡o & Dáº«n dáº¯t: CÃ³ kháº£ nÄƒng giáº£i thÃ­ch luáº­t chÆ¡i má»™t cÃ¡ch dá»… hiá»ƒu, hÃ i hÆ°á»›c cho ngÆ°á»i má»›i (Newbie).\nTÆ° duy chiáº¿n thuáº­t: Náº¯m báº¯t nhanh luáº­t chÆ¡i, cÃ³ kháº£ nÄƒng phÃ¢n tÃ­ch tÃ¬nh huá»‘ng vÃ  Ä‘Æ°a ra quyáº¿t Ä‘á»‹nh nhanh dÆ°á»›i Ã¡p lá»±c thá»i gian.\n")
    page.get_by_role("button", name="Gá»­i yÃªu cáº§u", exact=True).click()
    page.get_by_role("button", name="ğŸšª ÄÄƒng xuáº¥t").click()
    page.get_by_role("banner").get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").fill("setassouji2004@gmail.com")
    page.get_by_role("textbox", name="Máº­t kháº©u").click()
    page.get_by_role("textbox", name="Máº­t kháº©u").fill("123456")
    page.get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").press("ArrowLeft")
    page.get_by_role("textbox", name="Email").fill("setasouji2004@gmail.com")
    page.get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("button", name="ğŸ“‹ Duyá»‡t yÃªu cáº§u").click()
    page.get_by_role("button", name="âœ… Cháº¥p nháº­n").click()
    page.get_by_role("button", name="âœ“ XÃ¡c nháº­n Ä‘Ã£ thu phÃ­").click()
    page.get_by_role("button", name="ğŸ‘¥ Quáº£n lÃ½ thÃ nh viÃªn").click()
    page.get_by_role("button", name="ğŸšª ÄÄƒng xuáº¥t").click()
    page.get_by_role("banner").get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("textbox", name="Email").click()
    page.get_by_role("textbox", name="Email").fill("hbhuyhoang04@gmail.com")
    page.get_by_role("textbox", name="Máº­t kháº©u").click()
    page.get_by_role("textbox", name="Máº­t kháº©u").fill("123456")
    page.get_by_role("button", name="ÄÄƒng nháº­p").click()
    page.get_by_role("button", name="ğŸ¤ CLB Ä‘Ã£ tham gia").click()

    # ---------------------
    context.close()
    browser.close()


def test_main_1():
    with sync_playwright() as p:
        run(p)
